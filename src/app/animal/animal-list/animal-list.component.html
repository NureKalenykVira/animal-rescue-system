<app-site-header></app-site-header>

<main class="animal-list-container">

  <!-- üîπ –í–µ—Ä—Ö–Ω—è —Å–µ–∫—Ü—ñ—è –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö -->
  <section class="hero-section" [ngClass]="isAuthenticated ? 'bear-bg' : 'forest-bg'">
    <div class="hero-content">
      <h1>{{ isAuthenticated
        ? '–£—Å—ñ —Ç–≤–∞—Ä–∏–Ω–∏, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ç–≤–æ—î—ó —É–≤–∞–≥–∏'
        : '–•–æ—á–µ—à —Å—Ç–µ–∂–∏—Ç–∏ –∑–∞ —Ç–≤–∞—Ä–∏–Ω–æ—é?' }}</h1>
      <div class="hero-buttons" *ngIf="!isAuthenticated">
        <a routerLink="/auth/login" class="green-btn">–£–≤—ñ–π—Ç–∏</a>
        <a routerLink="/auth/register" class="green-btn">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>
      </div>
    </div>
  </section>

  <!-- üîπ –°–ø–∏—Å–æ–∫ —Ç–≤–∞—Ä–∏–Ω -->
  <p *ngIf="animals.length === 0" class="empty-message">
    –ñ–æ–¥–Ω–æ—ó —Ç–≤–∞—Ä–∏–Ω–∫–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
  </p>
  <section class="animal-grid">
    <div class="animal-card" *ngFor="let animal of visibleAnimals">
      <a [routerLink]="['/animal', animal.id]">
        <img *ngIf="animal.isFollowing"
          src="assets/img/paws.png"
          alt="–°—Ç–µ–∂–∏—Ç–µ"
          class="follow-marker-img" />
        <img [src]="animal.photoUrl || 'assets/img/animal-default.jpg'" alt="–¢–≤–∞—Ä–∏–Ω–∞" />
        <div class="animal-info">
          <h3>{{ animal.name || '–¢–≤–∞—Ä–∏–Ω–∞' }}</h3>
          <button
            [disabled]="!isAuthenticated"
            class="green-btn"
            [ngClass]="{
              'not-authenticated': !isAuthenticated,
              'is-following': isAuthenticated && animal.isFollowing
            }"
            (click)="toggleFollow(animal); $event.preventDefault(); $event.stopPropagation()"
            >
              {{
                !isAuthenticated
                  ? '–°—Ç–µ–∂–∏—Ç–∏ –∑–∞ —Ç–≤–∞—Ä–∏–Ω–æ—é'
                  : animal.isFollowing
                    ? '–ü–µ—Ä–µ—Å—Ç–∞—Ç–∏ —Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏'
                    : '–°—Ç–µ–∂–∏—Ç–∏'
              }}
            </button>
        </div>
      </a>
    </div>
    <div class="load-more-wrapper" *ngIf="visibleCount < animals.length">
      <button class="green-btn" (click)="loadMore()">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —â–µ</button>
    </div>
  </section>
</main>

<app-site-footer></app-site-footer>
