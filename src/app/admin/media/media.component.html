<section class="admin-section">
  <h2>–ú–µ–¥—ñ–∞—Ñ–∞–π–ª–∏</h2>

  <div class="filter-controls">
    <div class="filter-fields">
      <label>
        –¢–∏–ø:
        <select [(ngModel)]="filters.type" (change)="applyFilters()">
          <option value="">–£—Å—ñ</option>
          <option value="1">–§–æ—Ç–æ</option>
          <option value="2">–í—ñ–¥–µ–æ</option>
        </select>
      </label>
      <label>
        –°—Ç–∞—Ç—É—Å:
        <select [(ngModel)]="filters.status" (change)="applyFilters()">
          <option value="">–£—Å—ñ</option>
          <option value="1">–ê–∫—Ç–∏–≤–Ω–µ</option>
          <option value="2">–ù–µ–∞–∫—Ç–∏–≤–Ω–µ</option>
        </select>
      </label>
      <label>
        ID –∞–≤—Ç–æ—Ä–∞:
        <input [(ngModel)]="filters.uploadedById" (change)="applyFilters()" />
      </label>
      <label>
        –°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞:
        <select [(ngModel)]="filters.orderBy" (change)="applyFilters()">
          <option value="id">ID</option>
          <option value="uploaded_at">–î–∞—Ç–∞</option>
        </select>
      </label>
      <label>
        –ù–∞–ø—Ä—è–º–æ–∫:
        <select [(ngModel)]="filters.order" (change)="applyFilters()">
          <option value="asc">‚Üë</option>
          <option value="desc">‚Üì</option>
        </select>
      </label>
    </div>
    <button class="green-btn" (click)="resetFilters()">–°–∫–∏–Ω—É—Ç–∏</button>
  </div>

  <table class="admin-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥</th>
        <th>URL</th>
        <th>–¢–∏–ø</th>
        <th>–î–∞—Ç–∞</th>
        <th>–î—ñ—ó</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let m of media">
        <td>{{ m.id }}</td>
        <td>
          <img *ngIf="m.type === 1" [src]="m.url" alt="preview" height="50"/>
          <span *ngIf="m.type === 2">üé•</span>
        </td>
        <td><a [href]="m.url" target="_blank">{{ m.url }}</a></td>
        <td>{{ m.type === 1 ? '–§–æ—Ç–æ' : '–í—ñ–¥–µ–æ' }}</td>
        <td>{{ m.uploaded_at }}</td>
        <td class="actions-cell">
          <button class="btn-delete" (click)="openDeleteModal(m)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="modal-overlay" *ngIf="mediaToDelete">
    <div class="modal">
      <h3>–í–∏–¥–∞–ª–∏—Ç–∏ –º–µ–¥—ñ–∞ #{{ mediaToDelete.id }}?</h3>
      <div class="modal-buttons">
        <button (click)="confirmDelete()">–í–∏–¥–∞–ª–∏—Ç–∏</button>
        <button (click)="cancelDelete()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
      </div>
    </div>
  </div>
</section>
