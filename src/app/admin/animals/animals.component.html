<section class="admin-section">
  <h2>–¢–≤–∞—Ä–∏–Ω–∏</h2>

  <!-- –ü–∞–Ω–µ–ª—å —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ -->
  <section class="filter-controls">
    <label>
      ID:
      <input type="number" [(ngModel)]="filters.id" (change)="applyFilters()" />
    </label>

    <label>
      –°—Ç–∞—Ç—É—Å:
      <select [(ngModel)]="filters.status" (change)="applyFilters()">
        <option value="">–£—Å—ñ</option>
        <option [value]="0">–ù–æ–≤–∏–π</option>
        <option [value]="1">–ù–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ</option>
        <option [value]="2">–ü—Ä–∏–π–Ω—è—Ç–∏–π</option>
        <option [value]="3">–ù–∞ –ª—ñ–∫—É–≤–∞–Ω–Ω—ñ</option>
        <option [value]="4">–£—Å–∏–Ω–æ–≤–ª–µ–Ω–∏–π</option>
        <option [value]="5">–í–∏–ø—É—â–µ–Ω–∏–π</option>
      </select>
    </label>

    <label>
      –°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞:
      <select [(ngModel)]="filters.orderBy" (change)="applyFilters()">
        <option value="id">ID</option>
        <option value="name">–Ü–º‚Äô—è</option>
        <option value="breed">–ü–æ—Ä–æ–¥–∞</option>
      </select>
    </label>

    <label>
      –ù–∞–ø—Ä—è–º–æ–∫:
      <select [(ngModel)]="filters.order" (change)="applyFilters()">
        <option value="asc">–ó—Ä–æ—Å—Ç–∞–Ω–Ω—è–º</option>
        <option value="desc">–°–ø–∞–¥–∞–Ω–Ω—è–º</option>
      </select>
    </label>

    <button class="green-btn" (click)="resetFilters()">–°–∫–∏–Ω—É—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏</button>
  </section>

  <!-- –¢–∞–±–ª–∏—Ü—è —Ç–≤–∞—Ä–∏–Ω -->
  <table class="admin-table" *ngIf="animals.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>–§–æ—Ç–æ</th>
        <th>–Ü–º‚Äô—è</th>
        <th>–ü–æ—Ä–æ–¥–∞</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th>–°—Ç–∞—Ç—å</th>
        <th>–û–ø–∏—Å</th>
        <th>–õ–æ–∫–∞—Ü—ñ—è</th>
        <th>–û–Ω–æ–≤–ª–µ–Ω–æ</th>
        <th>–î—ñ—ó</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let a of animals">
        <td>{{ a.id }}</td>
        <td>
          <img *ngIf="a.media?.result?.length" [src]="a.media.result[0].url" alt="–§–æ—Ç–æ" width="60" />
        </td>
        <td><input [(ngModel)]="a.name" /></td>
        <td><input [(ngModel)]="a.breed" /></td>
        <td>
          <select [(ngModel)]="a.status">
            <option [value]="0">–ù–æ–≤–∏–π</option>
            <option [value]="1">–ù–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ</option>
            <option [value]="2">–ü—Ä–∏–π–Ω—è—Ç–∏–π</option>
            <option [value]="3">–ù–∞ –ª—ñ–∫—É–≤–∞–Ω–Ω—ñ</option>
            <option [value]="4">–£—Å–∏–Ω–æ–≤–ª–µ–Ω–∏–π</option>
            <option [value]="5">–í–∏–ø—É—â–µ–Ω–∏–π</option>
          </select>
        </td>
        <td>
          <select [(ngModel)]="a.gender">
            <option [value]="0">–°–∞–º–µ—Ü—å</option>
            <option [value]="1">–°–∞–º–∫–∞</option>
          </select>
        </td>
        <td><input [(ngModel)]="a.description" /></td>
        <td>{{ a.current_location?.name }}</td>
        <td>{{ a.updated_at * 1000 | date: 'short' }}</td>
        <td class="actions-cell">
          <button class="btn-save" (click)="saveAnimal(a)">üíæ</button>
          <button class="btn-delete" (click)="openDeleteModal(a)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="animals.length === 0">–¢–≤–∞—Ä–∏–Ω –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</p>
</section>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è -->
<div class="modal-overlay" *ngIf="animalToDelete">
  <div class="modal">
    <h3>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è</h3>
    <p>–í–∏ —Å–ø—Ä–∞–≤–¥—ñ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–≤–∞—Ä–∏–Ω—É {{ animalToDelete.name }}?</p>
    <div class="modal-buttons">
      <button (click)="confirmDelete()">–¢–∞–∫, –≤–∏–¥–∞–ª–∏—Ç–∏</button>
      <button (click)="cancelDelete()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
    </div>
  </div>
</div>
